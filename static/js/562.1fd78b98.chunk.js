"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[562],{3562:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(2791),a=t(5218),o=t(6863),s=t(6895),i=t(873),c=function(e){return e.filter},u=((0,i.P1)([function(e){return e.contacts.items},c],(function(e,n){return e.filter((function(e){return e.phone.toLowerCase().includes(n.toLowerCase())||e.name.toLowerCase().includes(n.toLowerCase())}))})),t(5861)),d=t(9439),l=t(4687),m=t.n(l),h=t(4554),x=t(8308),b=t(6151),f=t(5705),p=t(6727),j=p.Ry().shape({name:p.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,{message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan'"}).required("Required"),number:p.Z_().min(7,"Too Short!").max(20,"Too Long!").matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,{message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}).required("Required")}),v=t(184),C=function(){var e=(0,o.Jx)().data,n=(0,o.Tn)(),t=(0,d.Z)(n,1)[0],r=(0,f.TA)({initialValues:{name:"",number:""},validationSchema:j,onSubmit:function(){var n=(0,u.Z)(m().mark((function n(o){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.some((function(e){return e.name.toLowerCase()===o.name.toLowerCase().trim()}))){n.next=5;break}return r.resetForm(),a.ZP.error("".concat(o.name.trim()," is already in contacts")),n.abrupt("return");case 5:return n.next=7,t({name:o.name.trim(),phone:o.number.trim()});case 7:a.ZP.success("Contact successfully added!"),r.resetForm();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});return(0,v.jsx)(h.Z,{sx:{mt:8,mx:"auto",width:400},children:(0,v.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,v.jsx)(x.Z,{id:"name",label:"Name",variant:"outlined",sx:{width:1,mb:2},name:"name",type:"text",value:r.values.name,onChange:r.handleChange,error:r.touched.name&&Boolean(r.errors.name),helperText:r.touched.name&&r.errors.name}),(0,v.jsx)(x.Z,{id:"number",label:"Phone number",variant:"outlined",sx:{width:1,mb:2},name:"number",type:"tel",value:r.values.number,onChange:r.handleChange,error:r.touched.number&&Boolean(r.errors.number),helperText:r.touched.number&&r.errors.number}),(0,v.jsx)(b.Z,{sx:{width:1,color:"black"},type:"submit",children:"Add contact"})]})})},w=t(5048),g=t(2134),L=t(1523),y="ContactList_list__BbuqS",_="ContactList_container__eP5Yk",Z="ContactList_itemContainer__ultH3",k="ContactList_item__jJkUw",T="ContactList_button__ytNdM",N=function(e){var n=e.name,t=e.phone,r=e.id,a=(0,o.Nt)(),s=(0,d.Z)(a,2),i=s[0],c=s[1].isLoading;return(0,v.jsxs)("div",{className:_,children:[(0,v.jsxs)("div",{className:Z,children:[(0,v.jsx)(g.b4C,{}),(0,v.jsx)("p",{children:"".concat(n,": ").concat(t)})]}),(0,v.jsx)("button",{className:T,type:"button",onClick:function(){return i(r)},disabled:c,children:c?(0,v.jsx)(L.g4,{height:"18",width:"40",radius:"9",color:"white",ariaLabel:"three-dots-loading",visible:!0}):"Delete"})]})},P=function(e){var n=e.contacts,t=(0,w.v9)(c),a=(0,r.useMemo)((function(){return n.filter((function(e){return e.phone.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase())}))}),[n,t]);return(0,v.jsx)(h.Z,{sx:{mx:"auto",width:600},children:(0,v.jsx)("ul",{className:y,children:a.map((function(e){var n=e.id,t=e.name,r=e.phone;return(0,v.jsx)("li",{className:k,children:(0,v.jsx)(N,{name:t,phone:r,id:n})},n)}))})})},S=function(){var e=(0,w.v9)(c),n=(0,w.I0)();return(0,v.jsx)(h.Z,{sx:{mt:1,mb:2,mx:"auto",width:400},children:(0,v.jsx)(x.Z,{id:"filter",label:"Search contacts",variant:"outlined",sx:{width:1,mb:2},name:"filter",type:"text",value:e,onChange:function(e){var t=e.currentTarget.value;return n((0,s.T)(t))}})})},A=function(){return(0,v.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}]},children:(0,v.jsx)(L.g4,{height:"80",width:"80",radius:"9",color:"grey",ariaLabel:"three-dots-loading",visible:!0})})},B=function(){var e=(0,o.Jx)(),n=e.data,t=e.isLoading,s=e.isError,i=e.error;return(0,r.useEffect)((function(){i&&a.ZP.error(i)}),[i]),(0,v.jsxs)("section",{children:[(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",paddingBottom:20},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:"Phonebook"}),(0,v.jsx)(C,{}),(0,v.jsx)(S,{})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{style:{marginBottom:65},children:"Contacts"}),(0,v.jsx)("div",{style:{height:"100vh",overflow:"scroll"},children:!t&&!s&&(0,v.jsx)(P,{contacts:n})})]})]}),t&&(0,v.jsx)(A,{}),(0,v.jsx)(a.x7,{})]})}}}]);
//# sourceMappingURL=562.1fd78b98.chunk.js.map