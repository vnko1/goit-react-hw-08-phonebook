"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[853],{6853:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(2791),a=n(5218),s=n(1599),i=n(5861),o=n(9439),c=n(4687),u=n.n(c),l=n(4554),d=n(8308),m=n(6151),h=n(5705),x=n(7324),b=n(3329),f=function(){var e=(0,s.Jx)().data,t=(0,s.Tn)(),n=(0,o.Z)(t,1)[0],r=(0,h.TA)({initialValues:{name:"",number:""},validationSchema:x.j,onSubmit:function(){var t=(0,i.Z)(u().mark((function t(s){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.some((function(e){return e.name.toLowerCase()===s.name.toLowerCase().trim()}))){t.next=5;break}return r.resetForm(),a.ZP.error("".concat(s.name.trim()," is already in contacts")),t.abrupt("return");case 5:return t.next=7,n({name:s.name.trim(),number:s.number.trim()});case 7:a.ZP.success("Contact successfully added!"),r.resetForm();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return(0,b.jsx)(l.Z,{sx:{mt:1,mx:"auto",width:400},children:(0,b.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,b.jsx)(d.Z,{id:"name",label:"Name",variant:"outlined",sx:{width:1,mb:2},name:"name",type:"text",value:r.values.name,onChange:r.handleChange,error:r.touched.name&&Boolean(r.errors.name),helperText:r.touched.name&&r.errors.name}),(0,b.jsx)(d.Z,{id:"number",label:"Phone number",variant:"outlined",sx:{width:1,mb:2},name:"number",type:"tel",value:r.values.number,onChange:r.handleChange,error:r.touched.number&&Boolean(r.errors.number),helperText:r.touched.number&&r.errors.number}),(0,b.jsx)(m.Z,{sx:{width:1,color:"black"},type:"submit",children:"Add contact"})]})})},j=n(5048),p=n(1087),v=n(2134),C=n(1523),w="ContactList_list__BbuqS",g="ContactList_container__eP5Yk",y="ContactList_itemContainer__ultH3",_="ContactList_item__jJkUw",L="ContactList_button__ytNdM",Z=function(e){var t=e.name,n=e.phone,r=e.id,a=(0,s.Nt)(),i=(0,o.Z)(a,2),c=i[0],u=i[1].isLoading;return(0,b.jsxs)("div",{className:g,children:[(0,b.jsxs)("div",{className:y,children:[(0,b.jsx)(v.b4C,{}),(0,b.jsx)("p",{children:"".concat(t,": ").concat(n)})]}),(0,b.jsx)(p.rU,{to:"".concat(r),children:"Edit contact"}),(0,b.jsx)("button",{className:L,type:"button",onClick:function(){return c(r)},disabled:u,children:u?(0,b.jsx)(C.g4,{height:"18",width:"40",radius:"9",color:"white",ariaLabel:"three-dots-loading",visible:!0}):"Delete"})]})},k=function(e){var t=e.contacts,n=(0,j.v9)(s.AD),a=(0,r.useMemo)((function(){return t.filter((function(e){return e.number.toLowerCase().includes(n.toLowerCase())||e.name.toLowerCase().includes(n.toLowerCase())}))}),[t,n]);return(0,b.jsx)(l.Z,{sx:{mx:"auto",width:600},children:(0,b.jsx)("ul",{className:w,children:a.map((function(e){var t=e.id,n=e.name,r=e.number;return(0,b.jsx)("li",{className:_,children:(0,b.jsx)(Z,{name:n,phone:r,id:t})},t)}))})})},N=function(){var e=(0,j.v9)(s.AD),t=(0,j.I0)();return(0,b.jsx)(l.Z,{sx:{mt:1,mb:2,mx:"auto",width:400},children:(0,b.jsx)(d.Z,{id:"filter",label:"Search contacts",variant:"outlined",sx:{width:1,mb:2},name:"filter",type:"text",value:e,onChange:function(e){var n=e.currentTarget.value;return t((0,s.Tv)(n))}})})},S=function(){return(0,b.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}]},children:(0,b.jsx)(C.g4,{height:"80",width:"80",radius:"9",color:"grey",ariaLabel:"three-dots-loading",visible:!0})})},T=n(7689),B=function(){var e=(0,s.Jx)(),t=e.data,n=e.isLoading,i=e.isError,o=e.error;return(0,r.useEffect)((function(){o&&a.ZP.error(o)}),[o]),(0,b.jsxs)("section",{style:{position:"relative"},children:[(0,b.jsx)("h1",{style:{marginBottom:40,textTransform:"uppercase"},children:"Your contacts"}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",paddingBottom:20},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f,{}),(0,b.jsx)(N,{})]}),(0,b.jsx)("div",{children:(0,b.jsx)("div",{style:{height:"100vh",overflow:"scroll"},children:!n&&!i&&(0,b.jsx)(k,{contacts:t})})})]}),(0,b.jsx)(r.Suspense,{children:(0,b.jsx)(T.j3,{})}),n&&(0,b.jsx)(S,{}),(0,b.jsx)(a.x7,{})]})}}}]);
//# sourceMappingURL=853.beff02bc.chunk.js.map