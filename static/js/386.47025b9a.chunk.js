"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[386],{386:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(2791),o=r(5218),a=r(1599),i=r(578),s=r(4680),u=r(2739),c=r(4554),d=r(8595),l=r(2003),m=r(3329),h={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4,outline:0},b=function(e){var n=e.showModal,r=e.open,t=e.children;return(0,m.jsx)(d.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,onClose:function(){return n(!1)},closeAfterTransition:!0,slots:{backdrop:u.Z},slotProps:{backdrop:{timeout:500}},children:(0,m.jsx)(l.Z,{in:r,children:(0,m.jsx)(c.Z,{sx:h,children:t})})})},p=r(5861),x=r(9439),f=r(4687),v=r.n(f),w=r(899),j=r(4518),C=r(5705),Z=r(9079),g=r(890),y=r(501),k=r(2716),S="EditContact_title__2nHc5",E="EditContact_contactContainer__VwnRG",_=function(e){var n=e.contactId,r=e.name,i=e.number,u=(0,a.i)(),c=(0,x.Z)(u,2),d=c[0],l=c[1],h=l.isSuccess,b=l.error,f=(0,s.LC)().setShowEditContact,_=(0,C.TA)({initialValues:{name:r,number:i},validationSchema:Z.K3,onSubmit:function(){var e=(0,p.Z)(v().mark((function e(t){var o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.name.trim()&&""!==t.number.trim()){e.next=2;break}return e.abrupt("return");case 2:return o=t.name.trim(),a=t.number.trim(),e.next=6,d((0,Z.$B)({newName:o,newNumber:a,id:n,name:r,number:i}));case 6:_.resetForm(),setTimeout((function(){return f(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});return(0,t.useEffect)((function(){h&&o.ZP.success("Contact successfully edited!"),b&&o.ZP.error(b)}),[h,b]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:S,children:"Edit contact"}),(0,m.jsxs)("div",{className:E,children:[(0,m.jsxs)(g.Z,{sx:{display:"flex",mb:1},variant:"body1",children:[(0,m.jsx)(y.Z,{sx:{mr:2}}),r]}),(0,m.jsxs)(g.Z,{sx:{display:"flex"},variant:"body1",children:[(0,m.jsx)(k.Z,{sx:{mr:2}}),i]})]}),(0,m.jsxs)("form",{onSubmit:_.handleSubmit,children:[(0,m.jsx)(w.Z,{id:"name",label:"New name",variant:"outlined",sx:{width:1,mb:2},name:"name",type:"text",value:_.values.name,onChange:_.handleChange,error:_.touched.name&&Boolean(_.errors.name),helperText:_.touched.name&&_.errors.name,autoComplete:"off"}),(0,m.jsx)(w.Z,{id:"number",label:"New phone number",variant:"outlined",sx:{width:1,mb:2},name:"number",type:"tel",value:_.values.number,onChange:_.handleChange,error:_.touched.number&&Boolean(_.errors.number),helperText:_.touched.number&&_.errors.number,autoComplete:"off"}),(0,m.jsx)(j.Z,{sx:{width:1,color:"black",bgcolor:function(e){return e.palette.secondary.light}},type:"submit",disabled:!(_.values.name||_.values.number),children:"Save"})]})]})},N=r(5527),T=r(3240),P=function(){var e=(0,a.Jx)(),n=e.data,r=e.isLoading,u=e.isError,d=e.error,l=(0,s.LC)(),h=l.showAddContact,p=l.setShowAddContact,x=l.showEditContact,f=l.setShowEditContact,v=l.contactId;(0,t.useEffect)((function(){u&&404===(null===d||void 0===d?void 0:d.originalStatus)?o.ZP.error("Something wrong! Try to reload your"):u&&o.ZP.error(d)}),[d,u]);var w=(0,t.useMemo)((function(){if(n)return n.find((function(e){return e.id===v}))}),[v,n]);return(0,m.jsxs)(c.Z,{sx:{pt:function(e){return e.spacing(2)}},children:[(0,m.jsxs)(N.Z,{elevation:5,sx:{p:function(e){return e.spacing(4)}},children:[!r&&(0,m.jsx)(i.CR,{contacts:n}),(0,m.jsx)(b,{open:h,showModal:p,children:(0,m.jsx)(i.t,{})}),(0,m.jsx)(b,{open:x,showModal:f,children:!!w&&(0,m.jsx)(_,{contactId:w.id,number:w.number,name:w.name})})]}),(0,m.jsx)(T.Z,{isLoading:r})]})}}}]);
//# sourceMappingURL=386.47025b9a.chunk.js.map