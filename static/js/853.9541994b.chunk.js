"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[853],{6853:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(2791),a=t(5218),o=t(1599),s=t(5861),i=t(9439),u=t(4687),c=t.n(u),d=t(4554),l=t(8308),m=t(6151),h=t(5705),x=t(6309),f=t(3329),b=function(){var e=(0,o.Jx)().data,n=(0,o.Tn)(),t=(0,i.Z)(n,1)[0],r=(0,h.TA)({initialValues:{name:"",number:""},validationSchema:x.j,onSubmit:function(){var n=(0,s.Z)(c().mark((function n(o){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.some((function(e){return e.name.toLowerCase()===o.name.toLowerCase().trim()}))){n.next=5;break}return r.resetForm(),a.ZP.error("".concat(o.name.trim()," is already in contacts")),n.abrupt("return");case 5:return n.next=7,t({name:o.name.trim(),number:o.number.trim()});case 7:a.ZP.success("Contact successfully added!"),r.resetForm();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});return(0,f.jsx)(d.Z,{sx:{mt:8,mx:"auto",width:400},children:(0,f.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,f.jsx)(l.Z,{id:"name",label:"Name",variant:"outlined",sx:{width:1,mb:2},name:"name",type:"text",value:r.values.name,onChange:r.handleChange,error:r.touched.name&&Boolean(r.errors.name),helperText:r.touched.name&&r.errors.name}),(0,f.jsx)(l.Z,{id:"number",label:"Phone number",variant:"outlined",sx:{width:1,mb:2},name:"number",type:"tel",value:r.values.number,onChange:r.handleChange,error:r.touched.number&&Boolean(r.errors.number),helperText:r.touched.number&&r.errors.number}),(0,f.jsx)(m.Z,{sx:{width:1,color:"black"},type:"submit",children:"Add contact"})]})})},p=t(5048),j=t(1087),v=t(2134),C=t(1523),w="ContactList_list__BbuqS",g="ContactList_container__eP5Yk",L="ContactList_itemContainer__ultH3",y="ContactList_item__jJkUw",_="ContactList_button__ytNdM",Z=function(e){var n=e.name,t=e.phone,r=e.id,a=(0,o.Nt)(),s=(0,i.Z)(a,2),u=s[0],c=s[1].isLoading;return(0,f.jsxs)("div",{className:g,children:[(0,f.jsxs)("div",{className:L,children:[(0,f.jsx)(v.b4C,{}),(0,f.jsx)("p",{children:"".concat(n,": ").concat(t)})]}),(0,f.jsx)(j.rU,{to:"".concat(r),children:"Edit contact"}),(0,f.jsx)("button",{className:_,type:"button",onClick:function(){return u(r)},disabled:c,children:c?(0,f.jsx)(C.g4,{height:"18",width:"40",radius:"9",color:"white",ariaLabel:"three-dots-loading",visible:!0}):"Delete"})]})},T=function(e){var n=e.contacts,t=(0,p.v9)(o.AD),a=(0,r.useMemo)((function(){return n.filter((function(e){return e.number.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase())}))}),[n,t]);return(0,f.jsx)(d.Z,{sx:{mx:"auto",width:600},children:(0,f.jsx)("ul",{className:w,children:a.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,f.jsx)("li",{className:y,children:(0,f.jsx)(Z,{name:t,phone:r,id:n})},n)}))})})},k=function(){var e=(0,p.v9)(o.AD),n=(0,p.I0)();return(0,f.jsx)(d.Z,{sx:{mt:1,mb:2,mx:"auto",width:400},children:(0,f.jsx)(l.Z,{id:"filter",label:"Search contacts",variant:"outlined",sx:{width:1,mb:2},name:"filter",type:"text",value:e,onChange:function(e){var t=e.currentTarget.value;return n((0,o.Tv)(t))}})})},N=function(){return(0,f.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}]},children:(0,f.jsx)(C.g4,{height:"80",width:"80",radius:"9",color:"grey",ariaLabel:"three-dots-loading",visible:!0})})},A=t(7689),S=function(){var e=(0,o.Jx)(),n=e.data,t=e.isLoading,s=e.isError,i=e.error;return(0,r.useEffect)((function(){i&&a.ZP.error(i)}),[i]),(0,f.jsxs)("section",{style:{position:"relative"},children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",paddingBottom:20},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Phonebook"}),(0,f.jsx)(b,{}),(0,f.jsx)(k,{})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{style:{marginBottom:65},children:"Contacts"}),(0,f.jsx)("div",{style:{height:"100vh",overflow:"scroll"},children:!t&&!s&&(0,f.jsx)(T,{contacts:n})})]})]}),(0,f.jsx)(r.Suspense,{children:(0,f.jsx)(A.j3,{})}),t&&(0,f.jsx)(N,{}),(0,f.jsx)(a.x7,{})]})}},1599:function(e,n,t){t.d(n,{AD:function(){return s},Tv:function(){return a.T},Tn:function(){return r.Tn},Nt:function(){return r.Nt},i:function(){return r.i},Jx:function(){return r.Jx}});var r=t(6863),a=t(6895),o=t(873),s=function(e){return e.filter};(0,o.P1)([function(e){return e.contacts.items},s],(function(e,n){return e.filter((function(e){return e.phone.toLowerCase().includes(n.toLowerCase())||e.name.toLowerCase().includes(n.toLowerCase())}))}))},6309:function(e,n,t){t.d(n,{j:function(){return a}});var r=t(6727),a=r.Ry().shape({name:r.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,{message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan'"}).required("Required"),number:r.Z_().min(7,"Too Short!").max(20,"Too Long!").matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,{message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}).required("Required")})}}]);
//# sourceMappingURL=853.9541994b.chunk.js.map