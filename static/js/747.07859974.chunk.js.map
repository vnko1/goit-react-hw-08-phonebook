{"version":3,"file":"static/js/747.07859974.chunk.js","mappings":"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","sources":["webpack://phonebook-app/./src/components/modalWindow/ModalWindow.module.css?f7f3","components/modalWindow/ModalWindow.jsx","webpack://phonebook-app/./src/components/phoneBook/editContact/EditContact.module.css?561d","components/phoneBook/editContact/EditContact.jsx","pages/EditContactPage.jsx","../node_modules/@mui/icons-material/Close.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"modalBackdrop\":\"ModalWindow_modalBackdrop__ULw5N\",\"modalContent\":\"ModalWindow_modalContent__9BhIB\"};","import { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport CloseIcon from '@mui/icons-material/Close';\nimport css from './ModalWindow.module.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal = ({ children }) => {\n  const navigate = useNavigate();\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        navigate('/contacts');\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [navigate]);\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      navigate('/contacts');\n    }\n  };\n  return createPortal(\n    <div className={css.modalBackdrop} onClick={handleBackdropClick}>\n      <div className={css.modalContent}>\n        <Link to=\"/contacts\" style={{ textDecoration: 'none' }}>\n          <CloseIcon color=\"disabled\" />\n        </Link>\n        {children}\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"EditContact_title__2nHc5\",\"contactContainer\":\"EditContact_contactContainer__VwnRG\"};","import TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport toast from 'react-hot-toast';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useMemo } from 'react';\nimport { useFormik } from 'formik';\nimport { useFetchContactsQuery, useEditContactMutation } from 'redux/index';\nimport { changeSchema, createObj } from 'services';\nimport { Typography } from '@mui/material';\nimport PersonIcon from '@mui/icons-material/Person';\nimport PhoneIcon from '@mui/icons-material/Phone';\nimport css from './EditContact.module.css';\n\nconst EditContact = () => {\n  const { contactId } = useParams();\n  const { data: contacts, isLoading } = useFetchContactsQuery();\n  const [editContact] = useEditContactMutation();\n  const navigate = useNavigate();\n  const formik = useFormik({\n    initialValues: { name: '', number: '' },\n    validationSchema: changeSchema,\n    onSubmit: async values => {\n      if (values.name.trim() === '' && values.number.trim() === '') return;\n      const isIncluded = contacts.some(\n        contact =>\n          contact.name.toLowerCase() === values.name.toLowerCase().trim()\n      );\n      if (isIncluded) {\n        formik.resetForm();\n        toast.error(`${values.name.trim()} is already in contacts`);\n        return;\n      }\n      await editContact(\n        createObj({\n          name: values.name.trim(),\n          number: values.number.trim(),\n          id: contactId,\n        })\n      );\n      toast.success('Contact successfully edited!');\n      formik.resetForm();\n      setTimeout(() => navigate('/contacts'), 500);\n    },\n  });\n\n  const contact = useMemo(() => {\n    if (!isLoading) return contacts.filter(contact => contact.id === contactId);\n  }, [contactId, contacts, isLoading]);\n\n  return (\n    <div>\n      <h2 className={css.title}>Edit contact</h2>\n      {!isLoading && (\n        <div className={css.contactContainer}>\n          <Typography sx={{ display: 'flex', mb: 1 }} variant=\"body1\">\n            <PersonIcon sx={{ mr: 2 }} />\n            {contact[0].name}\n          </Typography>\n          <Typography sx={{ display: 'flex' }} variant=\"body1\">\n            <PhoneIcon sx={{ mr: 2 }} />\n            {contact[0].number}\n          </Typography>\n        </div>\n      )}\n\n      <form onSubmit={formik.handleSubmit}>\n        <TextField\n          id=\"name\"\n          label=\"New name\"\n          variant=\"outlined\"\n          sx={{ width: 1, mb: 2 }}\n          name=\"name\"\n          type=\"text\"\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          error={formik.touched.name && Boolean(formik.errors.name)}\n          helperText={formik.touched.name && formik.errors.name}\n        />\n        <TextField\n          id=\"number\"\n          label=\"New phone number\"\n          variant=\"outlined\"\n          sx={{ width: 1, mb: 2 }}\n          name=\"number\"\n          type=\"tel\"\n          value={formik.values.number}\n          onChange={formik.handleChange}\n          error={formik.touched.number && Boolean(formik.errors.number)}\n          helperText={formik.touched.number && formik.errors.number}\n        />\n        <Button\n          sx={{ width: 1, color: 'black' }}\n          type=\"submit\"\n          disabled={!(formik.values.name || formik.values.number)}\n        >\n          Save\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditContact;\n","import Modal from 'components/modalWindow/ModalWindow';\nimport EditContact from 'components/phoneBook/editContact/EditContact';\n\nconst EditContactPage = () => {\n  return (\n    <Modal>\n      <EditContact />\n    </Modal>\n  );\n};\n\nexport default EditContactPage;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\nexports.default = _default;"],"names":["modalRoot","document","querySelector","children","navigate","useNavigate","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","className","css","onClick","event","currentTarget","target","to","style","textDecoration","Close","color","contactId","useParams","useFetchContactsQuery","contacts","data","isLoading","useEditContactMutation","editContact","formik","useFormik","initialValues","name","number","validationSchema","changeSchema","onSubmit","values","trim","isIncluded","some","contact","toLowerCase","resetForm","toast","createObj","id","setTimeout","useMemo","filter","Typography","sx","display","mb","variant","Person","mr","Phone","handleSubmit","TextField","label","width","type","value","onChange","handleChange","error","touched","Boolean","errors","helperText","Button","disabled","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}