"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[747],{747:function(e,n,r){r.r(n),r.d(n,{default:function(){return Z}});var t=r(4164),a="ModalWindow_Modal__backdrop__bmmsw",o="ModalWindow_Modal__content__i4E+Y",s=r(3329),i=document.querySelector("#modal-root"),u=function(e){var n=e.children;return(0,t.createPortal)((0,s.jsx)("div",{className:a,children:(0,s.jsx)("div",{className:o,children:n})}),i)},c=r(5861),d=r(9439),m=r(4687),l=r.n(m),h=r(8308),f=r(6151),b=r(5218),p=r(5705),x=r(1599),v=r(6309),w=r(2791),_="EditContact_title__2nHc5",C="EditContact_contactContainer__VwnRG",j=r(7689),T=function(){var e=(0,j.UO)().contactId,n=(0,x.Jx)().data,r=(0,x.i)(),t=(0,d.Z)(r,1)[0],a=(0,j.s0)(),o=(0,p.TA)({initialValues:{name:"",number:""},validationSchema:v.j,onSubmit:function(){var r=(0,c.Z)(l().mark((function r(s){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.some((function(e){return e.name.toLowerCase()===s.name.toLowerCase().trim()}))){r.next=5;break}return o.resetForm(),b.ZP.error("".concat(s.name.trim()," is already in contacts")),r.abrupt("return");case 5:return r.next=7,t({name:s.name.trim(),number:s.number.trim(),id:e});case 7:b.ZP.success("Contact successfully edited!"),o.resetForm(),setTimeout((function(){return a("/contacts")}),500);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}),i=(0,w.useMemo)((function(){return n.filter((function(n){return n.id===e}))}),[e,n]);return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:_,children:"Edit contact"}),(0,s.jsxs)("div",{className:C,children:[(0,s.jsxs)("p",{children:["Name: ",i[0].name]}),(0,s.jsxs)("p",{children:["Number: ",i[0].number]})]}),(0,s.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,s.jsx)(h.Z,{id:"name",label:"New name",variant:"outlined",sx:{width:1,mb:2},name:"name",type:"text",value:o.values.name,onChange:o.handleChange,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name}),(0,s.jsx)(h.Z,{id:"number",label:"New phone number",variant:"outlined",sx:{width:1,mb:2},name:"number",type:"tel",value:o.values.number,onChange:o.handleChange,error:o.touched.number&&Boolean(o.errors.number),helperText:o.touched.number&&o.errors.number}),(0,s.jsx)(f.Z,{sx:{width:1,color:"black"},type:"submit",children:"Save"})]})]})},Z=function(){return(0,s.jsx)(u,{children:(0,s.jsx)(T,{})})}},1599:function(e,n,r){r.d(n,{AD:function(){return s},Tv:function(){return a.T},Tn:function(){return t.Tn},Nt:function(){return t.Nt},i:function(){return t.i},Jx:function(){return t.Jx}});var t=r(6863),a=r(6895),o=r(873),s=function(e){return e.filter};(0,o.P1)([function(e){return e.contacts.items},s],(function(e,n){return e.filter((function(e){return e.phone.toLowerCase().includes(n.toLowerCase())||e.name.toLowerCase().includes(n.toLowerCase())}))}))},6309:function(e,n,r){r.d(n,{j:function(){return a}});var t=r(6727),a=t.Ry().shape({name:t.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,{message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan'"}).required("Required"),number:t.Z_().min(7,"Too Short!").max(20,"Too Long!").matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,{message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}).required("Required")})}}]);
//# sourceMappingURL=747.770304de.chunk.js.map